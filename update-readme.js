import fs from "fs";

/**
 * Generate new readme file string text.
 * @param {string} repositorise 
 * @returns {string}
 */
function readme(repositorise) {
  return `
<h1 align="center">
  ğŸ‘‹ Hi, I'm <span style="color:#4f46e5">Sobhan Rasoulzadeh Asl</span>
</h1>

<p align="center">
  <b>Full-stack Developer</b> â€¢ Discord & Telegram Bots â€¢ APIs â€¢ Automation
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Node.js-18+-339933?style=flat&logo=node.js&logoColor=white"/>
  <img src="https://img.shields.io/badge/TypeScript-%23007ACC.svg?style=flat&logo=typescript&logoColor=white"/>
  <img src="https://img.shields.io/badge/Python-3776AB?style=flat&logo=python&logoColor=white"/>
  <img src="https://img.shields.io/badge/Discord_Bots-5865F2?style=flat&logo=discord&logoColor=white"/>
</p>

---

## ğŸ§  About Me

I'm a **problem-solver developer** focused on building **real-world, production-ready systems**.

I started programming in **2021** and since then Iâ€™ve been designing and developing:
- scalable bots
- automation tools
- APIs
- and dashboards

My priority is always **clean architecture, maintainability, and performance** â€” not just â€œit worksâ€.

---

## ğŸ’¼ What I Can Help You With

<p>
  ğŸ¤– <b>Discord Bots</b> â€” music, moderation, ticket systems, automation  

  ğŸ“¡ <b>Telegram Bots</b> â€” notifications, integrations, utilities  

  ğŸŒ <b>Web Apps & Dashboards</b> â€” admin panels, tools  

  ğŸ”Œ <b>API Development</b> â€” REST APIs, third-party integrations  

  ğŸ” <b>Real-time Systems</b> â€” webhooks, events, live updates  

  ğŸ›  <b>Refactoring</b> â€” improving existing Node.js projects  
</p>

---

## ğŸš€ Featured Projects

ğŸ”¹ **[Aparat.JS](https://github.com/aparatjs/aparat.js)**  
ğŸ“¦ NPM package providing clean and simple access to Aparat services

ğŸ”¹ **[Ticker Boy](https://github.com/Persian-Caesar/Ticker-Boy)**  
ğŸ« Advanced Discord ticket system with configurable workflows

ğŸ”¹ **[DJ Boy](https://github.com/Persian-Caesar/DJ-Boy)**  
ğŸ¶ Music bot with smart voice-channel management

ğŸ”¹ **[Padio](https://github.com/Persian-Caesar/Padio)**  
ğŸ“» Online radio streaming bot for Discord servers

ğŸ”¹ **[HyCom](https://hycom.ir/)**  
âš™ï¸ Private automation & utility Discord bot (production use)

---

## ğŸ§° Tech Stack


### ğŸ’» Languages
<p>
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg" height="36"/>
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" height="36"/>
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" height="36"/>
</p>

### âš™ï¸ Backend & Tools
<p>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/nodejs/nodejs-original.svg" height="36"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/express/express-original.svg" height="36"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/npm/npm-original.svg" height="36"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/nestjs/nestjs-original.svg" height="36"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/git/git-original.svg" height="36"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/mongodb/mongodb-original.svg" height="36"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/sqlite/sqlite-original.svg" height="36"/>
</p>

- Discord.js â€¢ Telegraf  
- REST APIs â€¢ Webhooks  

### ğŸ¨ Frontend
<p>
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" height="32"/>
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" height="32"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/tailwindcss/tailwindcss-original.svg" height="32"/>
  <img src="https://raw.githubusercontent.com/devicons/devicon/54cfe13ac10eaa1ef817a343ab0a9437eb3c2e08/icons/nextjs/nextjs-original.svg" height="32"/>
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" height="32"/>
</p>

Tailwind CSS â€¢ React (basic)

---

## ğŸ“Š GitHub Activity

<div align="center">
  <div align="center">
    <div>
      <a href="https://github.com/Sobhan-SRZA?tab=followers" target="_blank">
         <img src="https://img.shields.io/github/followers/Sobhan-SRZA?logo=github&style=for-the-badge">
      </a>
      <a href="https://github.com/Sobhan-SRZA/" target="_blank">
         <img src="https://img.shields.io/github/stars/Sobhan-SRZA?logo=github&style=for-the-badge">
      </a>
      <a href="https://github.com/Sobhan-SRZA/" target="_blank">
         <img src="https://komarev.com/ghpvc/?username=Sobhan-SRZA&logo=github&style=for-the-badge">
      </a>
    </div>
  </div>
  <div align="center">
    <div>
      <img alt="Top Languages" src="https://github-readme-stats.vercel.app/api/top-langs/?username=Sobhan-SRZA&langs_count=10&count_private=true&theme=react&hide_border=true&layout=compact&bg_color=0D1117" width = 30% />
    </div>
  </div>
</div>

<div align="center">
 <div align="center">
    <img src="https://streak-stats.demolab.com?user=Sobhan-SRZA&theme=black-ice&hide_border=true&border_radius=4.5&mode=weekly&card_width=495&card_height=195" alt="GitHub Streak" />
    <img alt="Github Stats" src="https://github-readme-stats.vercel.app/api?username=Sobhan-SRZA&show_icons=true&count_private=true&theme=react&hide_border=true&bg_color=0D1117" width = 40%>
 </div>
 <div align="center">
   <img alt="GitHub Trophies" src="https://github-profile-trophy.vercel.app/?username=Sobhan-SRZA&theme=react&no-frame=true&no-bg=true&margin-w=5" width = 70% />
 </div>
</div>

---

## ğŸ“‚ All Repositories

<details>
<summary><b>ğŸ“ Click to expand</b></summary>

<br/>

${repositorise}

<br/>

</details>

---

## ğŸ“¬ Contact Me

<p>
  ğŸŒ Website: <a href="https://srza.ir">srza.ir</a><br/>
  ğŸ’¬ Discord: <a href="https://discord.com/users/865630940361785345"><b>mr.sinre</b></a><br/>
  ğŸ“© Telegram: <a href="https://t.me/Sobhan_SRZA">@Sobhan_SRZA</a>
</p>

  `;
}

/**
 * 
 * @param {{private: boolean; languages: string[]; technologies: string[]; organization: string; name: string; owner: string; description: string; description_en: string; url: string;}[]} repos 
 * @param {string} imagesPath 
 * @returns {Promise<string>}
 */
async function generateMarkdownTable(repos, imagesPath) {
  const table = [];
  table.push("| ğŸ”¢ | ğŸ—ƒ Projects | ğŸ“– Describe | ğŸ“¡ Status | ğŸ” Access | ğŸŒ Language | âš™ï¸ Technology | â­ Stars | ğŸ–¨ Forks |");
  table.push("| ----------- | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |");

  let count = 0;
  repos?.forEach((repo) => {
    const access = repo.private ? 'ğŸ”’ Private' : 'ğŸŒ Public';
    const langBadges = repo.languages
      ? repo.languages.map(a => {
        const language = encodeURIComponent(a);
        return `![Used ${language}](${imagesPath}/${language.toLowerCase()}.svg)`
      }).join(" ")
      : '`none`';

    const techBadges = repo.technologies
      ? repo.technologies.map(a => {
        const technology = encodeURIComponent(a);
        return `![Used ${technology}](${imagesPath}/${technology.toLowerCase()}.svg)`
      }).join(" ")
      : '`none`';

    const starsBadge = repo.private ? '`none`' : `![Stars](https://img.shields.io/github/stars/${repo.organization ?? repo.owner}/${repo.name}?style=flat-square)`;
    const forksBadge = repo.private ? '`none`' : `![Forks](https://img.shields.io/github/forks/${repo.organization ?? repo.owner}/${repo.name}?style=flat-square)`;

    table.push(`| ${++count} | [${repo.name}](${repo.url}) | \`${(repo.description_en || repo.description)}\` | **${repo.status}** | **${access}** | ${langBadges} | ${techBadges} | ${starsBadge} | ${forksBadge} |`);
  });

  return table.join("\n");
}

async function main() {
  try {
    const repos = JSON.parse(fs.readFileSync("./projects.json"));
    console.log(`check repositorise size: ${repos.length}`);

    const markdownTable = await generateMarkdownTable(repos, "images");

    fs.writeFileSync('README.md', readme(markdownTable));
    console.log("\n");
    console.log(`loaded repositorise size: ${repos.length}`);
    console.log('README.md has successfully created.');
  }

  catch (error) {
    console.error('get an error:', error);
  }
}

void main();
/**
 * @copyright
 * Code by Sobhan-SRZA (mr.sinre) | https://github.com/Sobhan-SRZA
 * Developed for Persian Caesar | https://github.com/Persian-Caesar | https://dsc.gg/persian-caesar
 *
 * If you encounter any issues or need assistance with this code,
 * please make sure to credit "Persian Caesar" in your documentation or communications.
 */
